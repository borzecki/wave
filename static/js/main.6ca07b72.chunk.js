(this.webpackJsonpwave=this.webpackJsonpwave||[]).push([[0],{44:function(e,t,n){e.exports=n(52)},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),i=n.n(o),s=n(7),u=n(1),c=n(58),l=n(11),m=n(60),f={number:function(e){var t=e.name,n=e.value,a=e.setValue,o=e.step;return r.a.createElement("div",{className:"control-group"},r.a.createElement("label",{htmlFor:t},t),r.a.createElement("input",{name:t,type:"number",value:n,step:o,onChange:function(e){return a(e.target.value)}}))},choice:function(e){var t=e.name,n=e.value,a=e.options,o=e.setValue;return r.a.createElement("div",{className:"control-group"},r.a.createElement("label",{htmlFor:t},t),r.a.createElement("select",{name:t,id:t,value:n,onChange:function(e){return o(e.target.value)}},Object(m.a)((function(e){return r.a.createElement("option",{value:e},e)}),a)))}},h=function(e){var t=e.controls,n=e.setValue,a=e.onRemove;return r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"remove-control",onClick:a},"-"),Object(m.a)((function(e){var t=f[e.type];return r.a.createElement(t,Object.assign({key:e.name,setValue:n(e.name)},e))}),t))},v=function(e){var t=e.controlGroups,n=e.setValue,a=e.onRemove,o=e.onAdd;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"add-control",onClick:o},"+"),r.a.createElement("div",{className:"controls"},t.map((function(e,t){return r.a.createElement(h,{key:t,onRemove:function(){return a(t)},setValue:n(t),controls:e})}))))},d=n(34),p=n(53),g=n(61),y=n(12),b=n(35),x=function(){function e(t,n,a){Object(y.a)(this,e),this.x=t,this.y=n,this.z=a}return Object(b.a)(e,[{key:"dot2",value:function(e,t){return this.x*e+this.y*t}},{key:"dot3",value:function(e,t,n){return this.x*e+this.y*t+this.z*n}}]),e}(),w=[new x(1,1,0),new x(-1,1,0),new x(1,-1,0),new x(-1,-1,0),new x(1,0,1),new x(-1,0,1),new x(1,0,-1),new x(-1,0,-1),new x(0,1,1),new x(0,-1,1),new x(0,1,-1),new x(0,-1,-1)],E=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],O=new Array(512),M=new Array(512);!function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t=0;t<256;t++){var n;n=1&t?E[t]^255&e:E[t]^e>>8&255,O[t]=O[t+256]=n,M[t]=M[t+256]=w[n%12]}}(0);Math.sqrt(3),Math.sqrt(3);var j=1/6;function _(e){return e*e*e*(e*(6*e-15)+10)}function P(e,t,n){return(1-n)*e+n*t}var D=function(e,t,n){var a=Math.floor(e),r=Math.floor(t),o=Math.floor(n);e-=a,t-=r,n-=o;var i=M[(a&=255)+O[(r&=255)+O[o&=255]]].dot3(e,t,n),s=M[a+O[r+O[o+1]]].dot3(e,t,n-1),u=M[a+O[r+1+O[o]]].dot3(e,t-1,n),c=M[a+O[r+1+O[o+1]]].dot3(e,t-1,n-1),l=M[a+1+O[r+O[o]]].dot3(e-1,t,n),m=M[a+1+O[r+O[o+1]]].dot3(e-1,t,n-1),f=M[a+1+O[r+1+O[o]]].dot3(e-1,t-1,n),h=M[a+1+O[r+1+O[o+1]]].dot3(e-1,t-1,n-1),v=_(e),d=_(t),p=_(n);return P(P(P(i,l,v),P(s,m,v),p),P(P(u,f,v),P(c,h,v),p),d)},R={simplex:function(e,t,n){var a,r,o,i,s,u,c=(e+t+n)*(1/3),l=Math.floor(e+c),m=Math.floor(t+c),f=Math.floor(n+c),h=(l+m+f)*j,v=e-l+h,d=t-m+h,p=n-f+h;v>=d?d>=p?(a=1,r=0,o=0,i=1,s=1,u=0):v>=p?(a=1,r=0,o=0,i=1,s=0,u=1):(a=0,r=0,o=1,i=1,s=0,u=1):d<p?(a=0,r=0,o=1,i=0,s=1,u=1):v<p?(a=0,r=1,o=0,i=0,s=1,u=1):(a=0,r=1,o=0,i=1,s=1,u=0);var g=v-a+j,y=d-r+j,b=p-o+j,x=v-i+2*j,w=d-s+2*j,E=p-u+2*j,_=v-1+.5,P=d-1+.5,D=p-1+.5,R=M[(l&=255)+O[(m&=255)+O[f&=255]]],U=M[l+a+O[m+r+O[f+o]]],S=M[l+i+O[m+s+O[f+u]]],F=M[l+1+O[m+1+O[f+1]]],C=.6-v*v-d*d-p*p,G=.6-g*g-y*y-b*b,T=.6-x*x-w*w-E*E,A=.6-_*_-P*P-D*D;return 32*((C<0?0:(C*=C)*C*R.dot3(v,d,p))+(G<0?0:(G*=G)*G*U.dot3(g,y,b))+(T<0?0:(T*=T)*T*S.dot3(x,w,E))+(A<0?0:(A*=A)*A*F.dot3(_,P,D)))},perlin:D,droplets:function(e,t,n){var a=D(e,t,n);return a>0?a:0}},U=function(e){var t=e.groups,n=e.rotateMode,o=Object(d.a)(e,["groups","rotateMode"]),i=Object(a.useRef)(),s=Object(m.a)((function(e){return Object(p.a)(Object(m.a)((function(e){return[e.name,e.value]}),e))}),t);return Object(l.c)((function(e){var t=e.clock.getElapsedTime();n?(i.current.rotation.x=Math.sin(t/4),i.current.rotation.y=Math.sin(t/2)):(i.current.rotation.x=0,i.current.rotation.y=0);for(var a=function(){var e=i.current.geometry.vertices[r],n=e.x,a=e.y,o=Object(m.a)((function(e){var r=e.coefficient,o=e.magnitude,i=e.speed,s=e.move,u=e.method;return R[u](n*r,a*r+t*s,t*i)*o}),s);i.current.geometry.vertices[r].z=Object(g.a)(o)},r=0;r<i.current.geometry.vertices.length;r++)a();i.current.geometry.verticesNeedUpdate=!0})),r.a.createElement("group",o,r.a.createElement("mesh",{ref:i},r.a.createElement("planeGeometry",{attach:"geometry",args:[100,200,200,200]}),r.a.createElement("meshPhongMaterial",{attach:"material",color:"red",wireframe:!0})))},S=n(41),F=n(19),C=n(40),G=n(42),T=n(43),A=n(5),V={uniforms:{tDiffuse:{value:null},tDisp:{value:null},byp:{value:0},amount:{value:.08},angle:{value:.02},seed:{value:.02},seed_x:{value:.02},seed_y:{value:.02},distortion_x:{value:.5},distortion_y:{value:.6},col_s:{value:.05}},vertexShader:"varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }",fragmentShader:"uniform int byp; //should we apply the glitch\n    uniform sampler2D tDiffuse;\n    uniform sampler2D tDisp;\n    uniform float amount;\n    uniform float angle;\n    uniform float seed;\n    uniform float seed_x;\n    uniform float seed_y;\n    uniform float distortion_x;\n    uniform float distortion_y;\n    uniform float col_s;\n    varying vec2 vUv;\n    float rand(vec2 co){\n      return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n    void main() {\n      if(byp<1) {\n        vec2 p = vUv;\n        float xs = floor(gl_FragCoord.x / 0.5);\n        float ys = floor(gl_FragCoord.y / 0.5);\n        //based on staffantans glitch shader for unity https://github.com/staffantan/unityglitch\n        vec4 normal = texture2D (tDisp, p*seed*seed);\n        if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\n          if(seed_x>0.){\n            p.y = 1. - (p.y + distortion_y);\n          }\n          else {\n            p.y = distortion_y;\n          }\n        }\n        p.x+=normal.x*seed_x*(seed/5.);\n        p.y+=normal.y*seed_y*(seed/5.);\n        //base from RGB shift shader\n        vec2 offset = amount * vec2( cos(angle), sin(angle));\n        vec4 cr = texture2D(tDiffuse, p + offset);\n        vec4 cga = texture2D(tDiffuse, p);\n        vec4 cb = texture2D(tDiffuse, p - offset);\n        gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\n      }\n      else {\n        gl_FragColor=texture2D (tDiffuse, vUv);\n      }\n    }"},q=function(e){A.a.call(this),void 0===V&&console.error("THREE.GlitchPass relies on THREE.DigitalGlitch");var t=V;this.uniforms=u.UniformsUtils.clone(t.uniforms),void 0===e&&(e=64),this.uniforms.tDisp.value=this.generateHeightmap(e),this.material=new u.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.camera=new u.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new u.Scene,this.quad=new u.Mesh(new u.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.factor=0};q.prototype=Object.assign(Object.create(A.a.prototype),{constructor:q,render:function(e,t,n,a,r){var o=Math.max(0,this.factor);this.uniforms.tDiffuse.value=n.texture,this.uniforms.seed.value=Math.random()*o,this.uniforms.byp.value=0,o?(this.uniforms.amount.value=Math.random()/90*o,this.uniforms.angle.value=u.Math.randFloat(-Math.PI,Math.PI)*o,this.uniforms.distortion_x.value=u.Math.randFloat(0,1)*o,this.uniforms.distortion_y.value=u.Math.randFloat(0,1)*o,this.uniforms.seed_x.value=u.Math.randFloat(-.3,.3)*o,this.uniforms.seed_y.value=u.Math.randFloat(-.3,.3)*o):this.uniforms.byp.value=1,this.quad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),e.render(this.scene,this.camera)):(e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera))},generateHeightmap:function(e){for(var t=new Float32Array(e*e*3),n=e*e,a=0;a<n;a++){var r=u.Math.randFloat(0,1);t[3*a+0]=r,t[3*a+1]=r,t[3*a+2]=r}var o=new u.DataTexture(t,e,e,u.RGBFormat,u.FloatType);return o.needsUpdate=!0,o}});var k={uniforms:{byp:{value:0},texture:{type:"t",value:null},time:{type:"f",value:0},factor:{type:"f",value:0},resolution:{type:"v2",value:null}},vertexShader:"varying vec2 vUv;\n    void main(){  \n      vUv = uv; \n      vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0);\n      gl_Position = projectionMatrix * modelViewPosition;\n    }",fragmentShader:"uniform int byp; //should we apply the glitch ?\n    uniform float time;\n    uniform float factor;\n    uniform vec2 resolution;\n    uniform sampler2D texture;\n    \n    varying vec2 vUv;\n    \n    void main() {  \n      if (byp<1) {\n        vec2 uv1 = vUv;\n        vec2 uv = gl_FragCoord.xy/resolution.xy;\n        float frequency = 6.0;\n        float amplitude = 0.015 * factor;\n        float x = uv1.y * frequency + time * .7; \n        float y = uv1.x * frequency + time * .3;\n        uv1.x += cos(x+y) * amplitude * cos(y);\n        uv1.y += sin(x-y) * amplitude * cos(y);\n        vec4 rgba = texture2D(texture, uv1);\n        gl_FragColor = rgba;\n      } else {\n        gl_FragColor = texture2D(texture, vUv);\n      }\n    }"},B=function(e){A.a.call(this),void 0===k&&console.error("THREE.WaterPass relies on THREE.WaterShader");var t=k;this.uniforms=u.UniformsUtils.clone(t.uniforms),void 0===e&&(e=64),this.uniforms.resolution.value=new u.Vector2(e,e),this.material=new u.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.camera=new u.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new u.Scene,this.quad=new u.Mesh(new u.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.factor=0,this.time=0};B.prototype=Object.assign(Object.create(A.a.prototype),{constructor:B,render:function(e,t,n,a,r){var o=Math.max(0,this.factor);this.uniforms.byp.value=o?0:1,this.uniforms.texture.value=n.texture,this.uniforms.time.value=this.time,this.uniforms.factor.value=this.factor,this.time+=.05,this.quad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),e.render(this.scene,this.camera)):(e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera))}}),Object(l.b)({EffectComposer:S.a,ShaderPass:F.a,RenderPass:C.a,WaterPass:B,UnrealBloomPass:G.a,FilmPass:T.a,GlitchPass:q});var I=function(e){var t=e.down,n=Object(a.useRef)(),o=Object(l.d)(),i=o.scene,s=o.gl,c=o.size,m=o.camera,f=Object(a.useMemo)((function(){return new u.Vector2(c.width,c.height)}),[c]);return Object(a.useEffect)((function(){n.current.setSize(c.width,c.height)}),[c]),Object(l.c)((function(){return n.current.render()}),1),r.a.createElement("effectComposer",{ref:n,args:[s]},r.a.createElement("renderPass",{attachArray:"passes",scene:i,camera:m}),r.a.createElement("unrealBloomPass",{attachArray:"passes",args:[f,.5,2,.005]}),r.a.createElement("glitchPass",{attachArray:"passes",factor:t?1:0}))},N=n(54),H=n(63),z=n(55),W=n(62),J=n(59),L=n(56),$=n(57),K=[{name:"coefficient",value:.01,step:.01,type:"number"},{name:"magnitude",value:25,step:1,type:"number"},{name:"speed",value:1,step:1,type:"number"},{name:"move",value:-1,step:1,type:"number"},{name:"method",value:"simplex",type:"choice",options:["simplex","perlin","droplets"]}],Q=[K],X=function(e,t){var n=t.type,a=t.groupIndex,r=t.name,o=t.value;switch(n){case"ADD_GROUP":return Object(N.a)(e.length?Object(H.a)(e):K,e);case"REMOVE_GROUP":return Object(z.a)(a,1,e);case"UPDATE_GROUP":var i=e[a],s=Object(W.a)(Object(J.a)("name",r),i);return Object(L.a)(a,(function(){return Object(L.a)(s,(function(){return Object($.a)("value",o,i[s])}),i)}),e);default:return Q}},Y=(n(51),function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(a.useReducer)(X,Q),m=Object(s.a)(i,2),f=m[0],h=m[1],d=Object(c.a)((function(e,t,n){h({type:"UPDATE_GROUP",groupIndex:e,name:t,value:n})})),p=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{shadowMap:!0,pixelRatio:Math.min(2,p?window.devicePixelRatio:1),camera:{rotation:[60*Math.PI/180,0,0],position:[0,-80,40]},onMouseUp:function(){return o(!1)},onMouseDown:function(){return o(!0)},gl:{alpha:!1,antialias:!0,logarithmicDepthBuffer:!0},onCreated:function(e){var t=e.gl;t.toneMapping=u.ACESFilmicToneMapping,t.outputEncoding=u.sRGBEncoding}},r.a.createElement("fog",{attach:"fog",args:["black",10,200]}),r.a.createElement("ambientLight",{intensity:1}),r.a.createElement(U,{rotateMode:n,groups:f,position:[0,0,-10],scale:[1.5,1,1]}),r.a.createElement(I,{down:n})),r.a.createElement(v,{controlGroups:f,setValue:d,onAdd:function(){return h({type:"ADD_GROUP"})},onRemove:function(e){return h({type:"REMOVE_GROUP",groupIndex:e})}}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.6ca07b72.chunk.js.map